{"ast":null,"code":"import React from \"react\";\nimport { jwtDecode } from \"jwt-decode\";\nexport const useAuth = () => {\n  try {\n    const cookieObject = Object.fromEntries(document.cookie.split(\"; \").map(cookie => {\n      const [key, value] = cookie.split(\"=\");\n      return [key, value];\n    }));\n    const token = cookieObject[\"token\"];\n    if (!token) {\n      throw new Error(\"No token found in cookies\");\n    }\n    const decodedToken = jwtDecode(token);\n    const {\n      user\n    } = decodedToken;\n    console.log(user);\n    return user;\n  } catch (error) {\n    console.error(\"Authentication error:\", error.message);\n    return null; // Return null or handle error as needed\n  }\n};","map":{"version":3,"names":["React","jwtDecode","useAuth","cookieObject","Object","fromEntries","document","cookie","split","map","key","value","token","Error","decodedToken","user","console","log","error","message"],"sources":["D:/Office work/Hotel managment/React/hotel-management-react/src/hooks/auth.jsx"],"sourcesContent":["import React from \"react\";\r\nimport {jwtDecode} from \"jwt-decode\";\r\n\r\nexport const useAuth = () => {\r\n  try {\r\n    const cookieObject = Object.fromEntries(\r\n      document.cookie.split(\"; \").map((cookie) => {\r\n        const [key, value] = cookie.split(\"=\");\r\n        return [key, value];\r\n      })\r\n    );\r\n\r\n    const token = cookieObject[\"token\"];\r\n    if (!token) {\r\n      throw new Error(\"No token found in cookies\");\r\n    }\r\n\r\n    const decodedToken = jwtDecode(token);\r\n    const { user } = decodedToken;\r\n\r\n   console.log(user);\r\n\r\n    return user;\r\n  } catch (error) {\r\n    console.error(\"Authentication error:\", error.message);\r\n    return null; // Return null or handle error as needed\r\n  }\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,SAAS,QAAO,YAAY;AAEpC,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAC3B,IAAI;IACF,MAAMC,YAAY,GAAGC,MAAM,CAACC,WAAW,CACrCC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,IAAI,CAAC,CAACC,GAAG,CAAEF,MAAM,IAAK;MAC1C,MAAM,CAACG,GAAG,EAAEC,KAAK,CAAC,GAAGJ,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC;MACtC,OAAO,CAACE,GAAG,EAAEC,KAAK,CAAC;IACrB,CAAC,CACH,CAAC;IAED,MAAMC,KAAK,GAAGT,YAAY,CAAC,OAAO,CAAC;IACnC,IAAI,CAACS,KAAK,EAAE;MACV,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;IAC9C;IAEA,MAAMC,YAAY,GAAGb,SAAS,CAACW,KAAK,CAAC;IACrC,MAAM;MAAEG;IAAK,CAAC,GAAGD,YAAY;IAE9BE,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IAEhB,OAAOA,IAAI;EACb,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAACC,OAAO,CAAC;IACrD,OAAO,IAAI,CAAC,CAAC;EACf;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}