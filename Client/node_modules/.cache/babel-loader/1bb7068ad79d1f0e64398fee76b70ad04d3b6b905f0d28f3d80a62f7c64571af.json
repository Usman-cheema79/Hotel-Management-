{"ast":null,"code":"import jwtDecode from 'jwt-decode';\nexport const useAuth = () => {\n  try {\n    const cookies = document.cookie.split('; ').reduce((acc, cookie) => {\n      const [key, value] = cookie.split('=');\n      acc[key] = value;\n      return acc;\n    }, {});\n    const token = cookies[\"token\"];\n    if (!token) {\n      throw new Error(\"No token found in cookies\");\n    }\n    const decodedToken = jwtDecode(token);\n\n    // Assuming your JWT payload contains a 'user' object\n    const user = decodedToken.user || decodedToken; // Adjust based on actual JWT structure\n\n    return user;\n  } catch (error) {\n    console.error(\"Authentication error:\", error.message);\n    return null; // Handle error as needed\n  }\n};","map":{"version":3,"names":["jwtDecode","useAuth","cookies","document","cookie","split","reduce","acc","key","value","token","Error","decodedToken","user","error","console","message"],"sources":["D:/Office work/Hotel managment/React/hotel-management-react/src/hooks/auth.jsx"],"sourcesContent":["import jwtDecode from 'jwt-decode';\r\n\r\nexport const useAuth = () => {\r\n  try {\r\n    const cookies = document.cookie.split('; ').reduce((acc, cookie) => {\r\n      const [key, value] = cookie.split('=');\r\n      acc[key] = value;\r\n      return acc;\r\n    }, {});\r\n\r\n    const token = cookies[\"token\"];\r\n    if (!token) {\r\n      throw new Error(\"No token found in cookies\");\r\n    }\r\n\r\n    const decodedToken = jwtDecode(token);\r\n    \r\n    // Assuming your JWT payload contains a 'user' object\r\n    const user = decodedToken.user || decodedToken; // Adjust based on actual JWT structure\r\n\r\n    return user;\r\n  } catch (error) {\r\n    console.error(\"Authentication error:\", error.message);\r\n    return null; // Handle error as needed\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,SAAS,MAAM,YAAY;AAElC,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAC3B,IAAI;IACF,MAAMC,OAAO,GAAGC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,IAAI,CAAC,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEH,MAAM,KAAK;MAClE,MAAM,CAACI,GAAG,EAAEC,KAAK,CAAC,GAAGL,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC;MACtCE,GAAG,CAACC,GAAG,CAAC,GAAGC,KAAK;MAChB,OAAOF,GAAG;IACZ,CAAC,EAAE,CAAC,CAAC,CAAC;IAEN,MAAMG,KAAK,GAAGR,OAAO,CAAC,OAAO,CAAC;IAC9B,IAAI,CAACQ,KAAK,EAAE;MACV,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;IAC9C;IAEA,MAAMC,YAAY,GAAGZ,SAAS,CAACU,KAAK,CAAC;;IAErC;IACA,MAAMG,IAAI,GAAGD,YAAY,CAACC,IAAI,IAAID,YAAY,CAAC,CAAC;;IAEhD,OAAOC,IAAI;EACb,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAACE,OAAO,CAAC;IACrD,OAAO,IAAI,CAAC,CAAC;EACf;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}